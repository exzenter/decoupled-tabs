!function(){"use strict";class t{constructor(){this.tabAreas=new Map,this.init()}init(){document.querySelectorAll(".decoupled-tabs-area").forEach(t=>{this.initTabArea(t)}),document.querySelectorAll("[data-tab-target]").forEach(t=>{this.initTrigger(t)}),this.handleActiveOnLoadTriggers(),this.handleHashChange(),window.addEventListener("hashchange",()=>this.handleHashChange())}handleActiveOnLoadTriggers(){document.querySelectorAll('[data-tab-target][data-active-on-load="true"]').forEach(t=>{const e=t.dataset.tabTarget,a=t.dataset.tabArea||null;t.classList.add("is-active"),t.setAttribute("aria-selected","true"),this.applyTriggerCSS(t,"active"),this.switchToTab(e,a,null)})}initTabArea(t){const e=t.dataset.tabAreaId,a=t.dataset.defaultTab,s="true"===t.dataset.smoothHeight,i=parseInt(t.dataset.transitionDuration,10)||300,n=Array.from(t.querySelectorAll(".decoupled-tabs-content"));this.tabAreas.set(e,{element:t,tabs:n,smoothHeight:s,transitionDuration:i,currentTab:null,isTransitioning:!1});let r=null;a&&(r=n.find(t=>t.dataset.tabId===a)),!r&&n.length>0&&(r=n[0]),r&&this.activateTab(r,!0)}initTrigger(t){this.applyTriggerCSS(t,"default"),t.addEventListener("click",e=>{e.preventDefault();const a=t.dataset.tabTarget,s=t.dataset.tabArea;this.switchToTab(a,s,t)}),t.hasAttribute("tabindex")||t.setAttribute("tabindex","0"),t.addEventListener("keydown",e=>{"Enter"!==e.key&&" "!==e.key||(e.preventDefault(),t.click())}),t.addEventListener("mouseenter",()=>{t.classList.contains("is-active")||this.applyTriggerCSS(t,"hover")}),t.addEventListener("mouseleave",()=>{t.classList.contains("is-active")||this.applyTriggerCSS(t,"default")})}applyTriggerCSS(t,e){const a=t.dataset.cssDefault||"",s=t.dataset.cssHover||"",i=t.dataset.cssActive||"";this.clearTriggerInlineStyles(t);let n="";switch(e){case"hover":n=s||a;break;case"active":n=i||a;break;default:n=a}n&&this.applyInlineStyles(t,n)}applyInlineStyles(t,e){e.split(";").filter(t=>t.trim()).forEach(e=>{const[a,s]=e.split(":").map(t=>t.trim());if(a&&s){const e=a.replace(/-([a-z])/g,t=>t[1].toUpperCase());t.style[e]=s}})}clearTriggerInlineStyles(t){const e=[t.dataset.cssDefault||"",t.dataset.cssHover||"",t.dataset.cssActive||""].join(";").split(";").filter(t=>t.includes(":")).map(t=>t.split(":")[0].trim());[...new Set(e)].forEach(e=>{if(e){const a=e.replace(/-([a-z])/g,t=>t[1].toUpperCase());t.style[a]=""}})}switchToTab(t,e=null,a=null){let s=null,i=null,n=e;if(e)i=this.tabAreas.get(e),i&&(s=i.tabs.find(e=>e.dataset.tabId===t));else for(const[e,a]of this.tabAreas){const r=a.tabs.find(e=>e.dataset.tabId===t);if(r){s=r,i=a,n=e;break}}s&&i?i.isTransitioning||(this.updateTriggerStates(t,n),this.activateTab(s,!1,i),a&&history.replaceState(null,"",`#${t}`)):console.warn(`Decoupled Tabs: Tab with ID "${t}" not found.`)}activateTab(t,e=!1,a=null){if(!a){const e=t.closest(".decoupled-tabs-area"),s=e?.dataset.tabAreaId;a=this.tabAreas.get(s)}if(!a)return;const{element:s,tabs:i,currentTab:n,smoothHeight:r,transitionDuration:l}=a,o=e?0:l;n!==t&&(a.isTransitioning=!0,r&&!e&&n?this.animateHeightTransition(s,n,t,o,i,a):(i.forEach(e=>{e!==t&&(e.classList.remove("is-active"),e.setAttribute("aria-hidden","true"))}),t.classList.add("is-active"),t.setAttribute("aria-hidden","false"),a.currentTab=t,a.isTransitioning=!1))}animateHeightTransition(t,e,a,s,i,n){const r=t.offsetHeight;i.forEach(t=>{t!==a&&(t.classList.remove("is-active"),t.setAttribute("aria-hidden","true"))}),a.classList.add("is-active"),a.setAttribute("aria-hidden","false");const l=t.offsetHeight;t.style.height=`${r}px`,t.style.overflow="hidden",t.style.transition=`height ${s}ms ease-in-out`,t.offsetHeight,t.style.height=`${l}px`,n.currentTab=a;const o=()=>{t.style.height="",t.style.overflow="",t.style.transition="",n.isTransitioning=!1,t.removeEventListener("transitionend",o)};t.addEventListener("transitionend",o),setTimeout(()=>{n.isTransitioning&&o()},s+50)}updateTriggerStates(t,e=null){document.querySelectorAll("[data-tab-target]").forEach(a=>{const s=a.dataset.tabArea,i=a.dataset.tabTarget;e&&s&&s!==e||(i===t?(a.classList.add("is-active"),a.setAttribute("aria-selected","true"),this.applyTriggerCSS(a,"active")):(a.classList.remove("is-active"),a.setAttribute("aria-selected","false"),this.applyTriggerCSS(a,"default")))})}handleHashChange(){const t=window.location.hash.slice(1);t&&this.switchToTab(t)}}"loading"===document.readyState?document.addEventListener("DOMContentLoaded",()=>new t):new t}();